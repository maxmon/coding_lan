<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>python常用类库 | </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../py/ipython.html" />
    
    
    <link rel="prev" href="../py/deep.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.3"
        data-chapter-title="python常用类库"
        data-filepath="py/libs.md"
        data-basepath=".."
        data-revision="Sun May 08 2016 22:19:11 GMT+0800 (CST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="regular-expression.html">
            
                
                    <a href="../regular-expression.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        re正则表达式
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="py/python.html">
            
                
                    <a href="../py/python.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        python
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="py/base.html">
            
                
                    <a href="../py/base.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        python基础
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="py/deep.html">
            
                
                    <a href="../py/deep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        python进阶
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="py/libs.html">
            
                
                    <a href="../py/libs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        python常用类库
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="py/ipython.html">
            
                
                    <a href="../py/ipython.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        ipython
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="py/numpy.html">
            
                
                    <a href="../py/numpy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        numpy
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="ruby/index.html">
            
                
                    <a href="../ruby/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        ruby
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="ruby/ruby.html">
            
                
                    <a href="../ruby/ruby.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        ruby
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="ruby/rubyOnRails.html">
            
                
                    <a href="../ruby/rubyOnRails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        rubyOnRails
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="lisp/common-lisp.html">
            
                
                    <a href="../lisp/common-lisp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        common-lisp
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="lisp/1.html">
            
                
                    <a href="../lisp/1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="lisp/2.html">
            
                
                    <a href="../lisp/2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="lisp/3.html">
            
                
                    <a href="../lisp/3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="lisp/4.html">
            
                
                    <a href="../lisp/4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="lisp/5.html">
            
                
                    <a href="../lisp/5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="lisp/6.html">
            
                
                    <a href="../lisp/6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="lisp/7.html">
            
                
                    <a href="../lisp/7.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        7
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="lisp/8.html">
            
                
                    <a href="../lisp/8.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        8
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="lisp/9.html">
            
                
                    <a href="../lisp/9.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                        9
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="lisp/10.html">
            
                
                    <a href="../lisp/10.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.10.</b>
                        
                        10
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="lisp/11.html">
            
                
                    <a href="../lisp/11.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.11.</b>
                        
                        11
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.12" data-path="lisp/12.html">
            
                
                    <a href="../lisp/12.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.12.</b>
                        
                        12
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.13" data-path="lisp/13.html">
            
                
                    <a href="../lisp/13.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.13.</b>
                        
                        13
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.14" data-path="lisp/14.html">
            
                
                    <a href="../lisp/14.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.14.</b>
                        
                        14
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="shell.html">
            
                
                    <a href="../shell.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        shell
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="git.html">
            
                
                    <a href="../git.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        git
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="svn.html">
            
                
                    <a href="../svn.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        svn
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="website.html">
            
                
                    <a href="../website.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        website
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" ></a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <ul>
<li><a href="#Python&#x589E;&#x5F3A;"> Python&#x589E;&#x5F3A; </a><ul>
<li><a href="#pip"> pip </a></li>
<li><a href="#math"> math </a></li>
<li><a href="#time"> time </a></li>
<li><a href="#datetime"> datetime </a></li>
<li><a href="#itertools"> &#x5FAA;&#x73AF;&#x5668; (itertools) </a></li>
<li><a href="#sqlite"> sqlite </a></li>
</ul>
</li>
<li><a href="#&#x7CFB;&#x7EDF;&#x4EA4;&#x4E92;"> &#x7CFB;&#x7EDF;&#x4EA4;&#x4E92; </a><ul>
<li><a href="#commands"> commands </a></li>
<li><a href="#os &#x6587;&#x4EF6;&#x7BA1;&#x7406;"> os &#x6587;&#x4EF6;&#x7BA1;&#x7406; </a></li>
<li><a href="#os &#x8FDB;&#x7A0B;&#x7BA1;&#x7406;"> os &#x8FDB;&#x7A0B;&#x7BA1;&#x7406; </a></li>
<li><a href="#os.path"> os.path &#x8DEF;&#x5F84;&#x7BA1;&#x7406; </a></li>
<li><a href="#shutil"> shutil: &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5DE5;&#x5177; </a></li>
<li><a href="#re"> re:&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;regular expression </a> </li>
<li><a href="#glob"> glob: &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; on file </a></li>
<li><a href="#pickle"> pickle cPickle&#xFF1A;&#x5B58;&#x50A8;&#x5BF9;&#x8C61; </a></li>
<li><a href="#subprocess"> subprocess &#x8FD0;&#x884C;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;: &#x5B9E;&#x73B0;shell </a></li>
<li><a href="#subprocess.Popen"> subprocess.Popen&#xFF1A;shell&#x5F0F;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406; </a></li>
<li><a href="#signal"> signal&#xFF1A;&#x4FE1;&#x53F7;&#x673A;&#x5236; </a></li>
<li><a href="#thread and syc"> thread and syc&#xFF1A;&#x7EBF;&#x7A0B;&#x548C;&#x540C;&#x6B65; </a></li>
<li><a href="#multi process"> multi process&#xFF1A;&#x591A;&#x8FDB;&#x7A0B; </a></li>
</ul>
</li>
</ul>
<p><a name="Python&#x589E;&#x5F3A;"></a></p>
<h1 id="python&#x589E;&#x5F3A;">Python&#x589E;&#x5F3A;</h1>
<p>lib&#x7684;&#x6240;&#x6709;&#x641C;&#x7D22;&#x8DEF;&#x5F84;</p>
<pre><code>import sys
print(sys.path) #&#x641C;&#x7D22;&#x8DEF;&#x5F84;
</code></pre><p><a name="pip"></a></p>
<h2 id="pip">pip</h2>
<p>pip&#x662F;Python&#x81EA;&#x5E26;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x8FDE;&#x63A5;Python repository&#xFF0C;&#x5E76;&#x67E5;&#x627E;&#x5176;&#x4E2D;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x7684;&#x5305;</p>
<p>$pip install web.py</p>
<p>$pip uninstall web.py</p>
<p>$pip install --upgrade web.py</p>
<p>&#x8BBE;&#x7F6E;pip&#x7684;&#x5B89;&#x88C5;&#x5305;&#x7684;&#x8DEF;&#x5F84;:</p>
<p>$pip install --install-option=&quot;--prefix=/home/vamei/util/&quot; web.py</p>
<p><a name="math"></a></p>
<h2 id="math"><a href="http://www.cnblogs.com/vamei/archive/2012/10/26/2741702.html" target="_blank">math</a></h2>
<ul>
<li>round()</li>
<li>math&#x5305;</li>
<li>random&#x5305;;&#x4E5F;&#x53EF;&#x4EE5;&#x53C2;&#x89C1;numpy.md&#x7684; <code>Random number generation</code></li>
</ul>
<p>&#x6700;&#x503C;</p>
<ul>
<li>max(arg) min(arg)</li>
<li>abs(arg)</li>
</ul>
<p>&#x865A;&#x6570;</p>
<p>1 + 2j</p>
<p><a name="time"></a></p>
<h2 id="time">time</h2>
<p>unit second</p>
<p>import time</p>
<ul>
<li>time.time()</li>
<li>time.clock()</li>
<li>time.sleep()</li>
<li>time.gmtime()      # &#x8FD4;&#x56DE;struct_time&#x683C;&#x5F0F;&#x7684;UTC&#x65F6;&#x95F4;</li>
<li>time.localtime()   # &#x8FD4;&#x56DE;struct_time&#x683C;&#x5F0F;&#x7684;&#x5F53;&#x5730;&#x65F6;&#x95F4;, &#x5F53;&#x5730;&#x65F6;&#x533A;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x51B3;&#x5B9A;&#x3002;</li>
<li>time.mktime(st)    # &#x5C06;struct_time&#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x6210;wall clock time</li>
</ul>
<p><a name="datetime"></a></p>
<h2 id="datetime">datetime</h2>
<pre><code>from datetime import datetime
datetime.date.today-datetime.timedelta(1)
datetime.datetime.now()
</code></pre><ul>
<li>datetime.date</li>
<li>datetime.time</li>
<li>datetime.timedelta #dateime&#x7C7B;&#x578B;&#x7684;&#x5DEE;&#x503C; <code>datetime.timedelta(days=1)</code></li>
</ul>
<p>hour, minute, second, microsecond, year, month, day, weekday   # weekday&#x8868;&#x793A;&#x5468;&#x51E0;</p>
<p>datetime.datetime &#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x5927;&#x5C0F;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x7B97;&#xFF1D;&#xFF0F;&#xFF0D; by datetime.timedelta</p>
<p>%Y-%m-%d %H:%M:%S datetime.strptime(str, format) obj.strftime(format)</p>
<p><a name="itertools"></a></p>
<h2 id="&#x5FAA;&#x73AF;&#x5668;-itertools"><a href="http://www.cnblogs.com/vamei/p/3174796.html" target="_blank">&#x5FAA;&#x73AF;&#x5668; (itertools)</a></h2>
<p>pass</p>
<p><a name="sqlite"></a></p>
<h2 id="sqlite"><a href="http://www.cnblogs.com/vamei/p/3794388.html" target="_blank">sqlite</a></h2>
<p><a name="&#x7CFB;&#x7EDF;&#x4EA4;&#x4E92;"></a></p>
<h1 id="&#x7CFB;&#x7EDF;&#x4EA4;&#x4E92;">&#x7CFB;&#x7EDF;&#x4EA4;&#x4E92;</h1>
<p><a name="commands"></a></p>
<h2 id="commands">commands</h2>
<pre><code>import commands
(status, output) = commands.getstatusoutput(&apos;cp -fr ...&apos;)
commands.getoutput(&apos;ls .&apos;)
</code></pre><p><a name="os &#x6587;&#x4EF6;&#x7BA1;&#x7406;"></a></p>
<h2 id="os-&#x6587;&#x4EF6;&#x7BA1;&#x7406;">os &#x6587;&#x4EF6;&#x7BA1;&#x7406;</h2>
<p>os&#x5305;&#x7684;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#x5C31;&#x662F;&#x7528;&#x4E8E;&#x6587;&#x4EF6;&#x7BA1;&#x7406;</p>
<ul>
<li>os.getcwd()</li>
<li>os.listdir(os.curdir)</li>
<li>os.mkdir(path)</li>
<li>os.listdir(path)</li>
<li>os.remove(path)</li>
<li>os.rename(src,dst)</li>
<li>os.chmod(path, mode)</li>
<li>os.rmdir(path)</li>
<li>os.chown(path, uid, gid)</li>
<li>os.symlink(src, dst) # $ln -s</li>
<li>os.stat(path) #$ls -l</li>
</ul>
<p>&#x8FDB;&#x7A0B;kill</p>
<ul>
<li>os.kill(pid, sid)</li>
<li>os.killpg(pgid, sid)</li>
</ul>
<p><a name="os &#x8FDB;&#x7A0B;&#x7BA1;&#x7406;"></a></p>
<h2 id="os-&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;">os &#x8FDB;&#x7A0B;&#x7BA1;&#x7406;</h2>
<p><a href="http://www.cnblogs.com/vamei/archive/2012/10/12/2721016.html" target="_blank">&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F; (os&#x5305;)</a></p>
<p><a name="os.path"></a></p>
<h2 id="ospath-&#x8DEF;&#x5F84;&#x7BA1;&#x7406;">os.path &#x8DEF;&#x5F84;&#x7BA1;&#x7406;</h2>
<ul>
<li>abspath</li>
<li>split #return (path,file_name_tail)</li>
<li>dirname #path</li>
<li>basename #file_name_tail</li>
<li>splitext #return (file_name,._tail)</li>
<li>exists </li>
</ul>
<h4 id="ospath-&#x67E5;&#x8BE2;&#x8DEF;&#x5F84;">os.path &#x67E5;&#x8BE2;&#x8DEF;&#x5F84;</h4>
<p>os.path.basename(path)    # &#x67E5;&#x8BE2;&#x8DEF;&#x5F84;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x6587;&#x4EF6;&#x540D;
os.path.dirname(path)     # &#x67E5;&#x8BE2;&#x8DEF;&#x5F84;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;</p>
<p>info = os.path.split(path)       # &#x5C06;&#x8DEF;&#x5F84;&#x5206;&#x5272;&#x6210;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x76EE;&#x5F55;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x8868;&#x4E2D;&#x8FD4;&#x56DE;
path2 = os.path.join(&apos;/&apos;, &apos;home&apos;, &apos;vamei&apos;, &apos;doc&apos;, &apos;file1.txt&apos;)  # &#x4F7F;&#x7528;&#x76EE;&#x5F55;&#x540D;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x8DEF;&#x5F84;&#x5B57;&#x7B26;&#x4E32;</p>
<p>p_list = [path, path2]
print(os.path.commonprefix(p_list))    # &#x67E5;&#x8BE2;&#x591A;&#x4E2A;&#x8DEF;&#x5F84;&#x7684;&#x5171;&#x540C;&#x90E8;&#x5206;</p>
<p>os.path.normpath(path)   # &#x53BB;&#x9664;&#x8DEF;&#x5F84;path&#x4E2D;&#x7684;&#x5197;&#x4F59;&#x3002;&#x6BD4;&#x5982;&apos;/home/vamei/../.&apos;&#x88AB;&#x8F6C;&#x5316;&#x4E3A;&apos;/home&apos;</p>
<h4 id="ospath&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;metadata&#xFF0C;&#x6BD4;&#x5982;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x5927;&#x5C0F;&#xFF0C;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x3002;">os.path&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;(metadata)&#xFF0C;&#x6BD4;&#x5982;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x5927;&#x5C0F;&#xFF0C;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x3002;</h4>
<p>import os.path
print(os.path.exists(path))    # &#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;</p>
<p>print(os.path.getsize(path))   # &#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x5927;&#x5C0F;
print(os.path.getatime(path))  # &#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x4E0A;&#x4E00;&#x6B21;&#x8BFB;&#x53D6;&#x7684;&#x65F6;&#x95F4;
print(os.path.getmtime(path))  # &#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x4E0A;&#x4E00;&#x6B21;&#x4FEE;&#x6539;&#x7684;&#x65F6;&#x95F4;</p>
<p>print(os.path.isfile(path))    # &#x8DEF;&#x5F84;&#x662F;&#x5426;&#x6307;&#x5411;&#x5E38;&#x89C4;&#x6587;&#x4EF6;
print(os.path.isdir(path))     # &#x8DEF;&#x5F84;&#x662F;&#x5426;&#x6307;&#x5411;&#x76EE;&#x5F55;&#x6587;&#x4EF6;</p>
<p><a name="shutil"></a></p>
<h2 id="shutil-&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5DE5;&#x5177;">shutil: &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x5DE5;&#x5177;</h2>
<ul>
<li>copy(src, dst)</li>
</ul>
<p>&#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;src&#x5230;dst&#x3002;&#x76F8;&#x5F53;&#x4E8E;$cp&#x547D;&#x4EE4;&#x3002;</p>
<ul>
<li>move(src, dst)</li>
</ul>
<p>&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;src&#x5230;dst&#x3002;&#x76F8;&#x5F53;&#x4E8E;$mv&#x547D;&#x4EE4;&#x3002;</p>
<p><a name="re"></a></p>
<h2 id="re-&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;regular-expression">re: &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;regular expression</h2>
<p><a href="regular-expression.md">@note-regular expression</a></p>
<p>m = re.search(pattern, string)  # &#x641C;&#x7D22;&#x6574;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x76F4;&#x5230;&#x53D1;&#x73B0;&#x7B26;&#x5408;&#x7684;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x3002;
m = re.match(pattern, string)   # &#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x68C0;&#x67E5;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x5FC5;&#x987B;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#x5C31;&#x76F8;&#x7B26;&#x3002;
re.split()    # &#x6839;&#x636E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5206;&#x5272;&#x5B57;&#x7B26;&#x4E32;&#xFF0C; &#x5C06;&#x5206;&#x5272;&#x540E;&#x7684;&#x6240;&#x6709;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x8868;(list)&#x4E2D;&#x8FD4;&#x56DE;
re.findall()  # &#x6839;&#x636E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x641C;&#x7D22;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x7B26;&#x5408;&#x7684;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#x653E;&#x5728;&#x4E00;&#x7ED9;&#x8868;(list)&#x4E2D;&#x8FD4;&#x56DE;
re.compile()</p>
<p><a name="glob"></a></p>
<h2 id="glob-&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;-on-files">glob: &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; on files</h2>
<p>Pattern matching on files</p>
<pre><code>import glob
glob.glob(&apos;*.txt&apos;)
&gt;&gt;&gt;[&apos;holy_grail.txt&apos;, &apos;junk.txt&apos;, &apos;newfile.txt&apos;]
</code></pre><p><a name="pickle"></a></p>
<h2 id="pickle-cpickle-&#x5B58;&#x50A8;&#x5BF9;&#x8C61;">pickle cPickle &#x5B58;&#x50A8;&#x5BF9;&#x8C61;</h2>
<p>pickle: Useful to store arbitrary objects to a file. Not safe or fast!</p>
<pre><code>pickle.dump(var, file(&apos;test.pkl&apos;, &apos;w&apos;))
pickle.load(file(&apos;test.pkl&apos;))    
</code></pre><p>cPickle coded by c, 1000 faster than pickle</p>
<pre><code>import cPickle as pickle
with open(path, &apos;w&apos;) as f:                     # open file with write-mode
picklestring = pickle.dump(obj, f)   # serialize and save object

# define the class before unpickle
class Bird(object):
    have_feather = True
    way_of_reproduction  = &apos;egg&apos;

with open(path, &apos;r&apos;) as f:
    obj = pickle.load(f)   # read file and build object
</code></pre><p><a name="subprocess"></a></p>
<h2 id="subprocess-&#x8FD0;&#x884C;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;-&#x5B9E;&#x73B0;shell">subprocess &#x8FD0;&#x884C;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;: &#x5B9E;&#x73B0;shell</h2>
<p>&#x57FA;&#x4E8E;Popen()&#x7684;&#x5C01;&#x88C5;(wrapper)</p>
<ul>
<li>subprocess.call()
&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;
&#x8FD4;&#x56DE;&#x9000;&#x51FA;&#x4FE1;&#x606F;(returncode&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;exit code&#xFF0C;&#x89C1;Linux&#x8FDB;&#x7A0B;&#x57FA;&#x7840;)</li>
<li>subprocess.check_call()
&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;
&#x8FD4;&#x56DE;0
&#x68C0;&#x67E5;&#x9000;&#x51FA;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;returncode&#x4E0D;&#x4E3A;0&#xFF0C;&#x5219;&#x4E3E;&#x51FA;&#x9519;&#x8BEF;subprocess.CalledProcessError&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6709;returncode&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x7528;try...except...&#x6765;&#x68C0;&#x67E5;(&#x89C1;Python&#x9519;&#x8BEF;&#x5904;&#x7406;)&#x3002;</li>
<li>subprocess.check_output()
&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;
&#x8FD4;&#x56DE;&#x5B50;&#x8FDB;&#x7A0B;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;
&#x68C0;&#x67E5;&#x9000;&#x51FA;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;returncode&#x4E0D;&#x4E3A;0&#xFF0C;&#x5219;&#x4E3E;&#x51FA;&#x9519;&#x8BEF;subprocess.CalledProcessError&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6709;returncode&#x5C5E;&#x6027;&#x548C;output&#x5C5E;&#x6027;&#xFF0C;output&#x5C5E;&#x6027;&#x4E3A;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x7528;try...except...&#x6765;&#x68C0;&#x67E5;</li>
</ul>
<p><code>import subprocess
out = subprocess.call(&quot;ls -l&quot;, shell=True)</code></p>
<p><a name="subprocess.Popen"></a></p>
<h2 id="subprocesspopen-shell&#x5F0F;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;">subprocess.Popen shell&#x5F0F;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;</h2>
<p>shell</p>
<p>import subprocess
child = subprocess.Popen([&quot;ping&quot;,&quot;-c&quot;,&quot;5&quot;,&quot;www.google.com&quot;])
return_code = child.wait() # parent process wait child done
print(&quot;parent process&quot;)</p>
<ul>
<li>&#x5B50;&#x8FDB;&#x7A0B;&#x7684;PID&#x5B58;&#x50A8;&#x5728;child.pid</li>
<li>child.poll()           # &#x68C0;&#x67E5;&#x5B50;&#x8FDB;&#x7A0B;&#x72B6;&#x6001;</li>
<li>child.kill()           # &#x7EC8;&#x6B62;&#x5B50;&#x8FDB;&#x7A0B;</li>
<li>child.send_signal()    # &#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;</li>
<li>child.terminate()      # &#x7EC8;&#x6B62;&#x5B50;&#x8FDB;&#x7A0B;</li>
</ul>
<h4 id="&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6587;&#x672C;&#x6D41;&#x63A7;&#x5236;">&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6587;&#x672C;&#x6D41;&#x63A7;&#x5236;</h4>
<ul>
<li>child.stdin</li>
<li>child.stdout</li>
<li>child.stderr</li>
</ul>
<p>import subprocess
child1 = subprocess.Popen([&quot;ls&quot;,&quot;-l&quot;], stdout=subprocess.PIPE)
child2 = subprocess.Popen([&quot;wc&quot;], stdin=child1.stdout,stdout=subprocess.PIPE)
out = child2.communicate()
print(out)</p>
<p>subprocess.PIPE&#x5B9E;&#x9645;&#x4E0A;&#x4E3A;&#x6587;&#x672C;&#x6D41;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x533A;,&#x76F4;&#x5230;communicate()&#x65B9;&#x6CD5;&#x4ECE;PIPE&#x4E2D;&#x8BFB;&#x53D6;&#x51FA;PIPE&#x4E2D;&#x7684;&#x6587;&#x672C;</p>
<p>communicate()&#x662F;Popen&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x963B;&#x585E;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;;communicate()&#x65B9;&#x6CD5;&#x6765;&#x4F7F;&#x7528;PIPE&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x8F93;&#x5165;</p>
<p>import subprocess
child = subprocess.Popen([&quot;cat&quot;], stdin=subprocess.PIPE)
child.communicate(&quot;vamei&quot;)</p>
<p><a name="signal"></a></p>
<h2 id="signal"><a href="http://www.cnblogs.com/vamei/archive/2012/10/06/2712683.html" target="_blank">signal</a></h2>
<h4 id="&#x9884;&#x8BBE;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;">&#x9884;&#x8BBE;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;</h4>
<pre><code>import signal
def myHandler(signum, frame):
    print(&apos;I received: &apos;, signum)

signal.signal(signal.SIGTSTP, myHandler) # register signal.SIGTSTP&apos;s handler 
signal.pause() #signal.pause()&#x6765;&#x8BA9;&#x8BE5;&#x8FDB;&#x7A0B;&#x6682;&#x505C;&#x4EE5;&#x7B49;&#x5F85;&#x4FE1;&#x53F7;
</code></pre><p><a name="thread and syc"></a></p>
<h3 id="thread-and-syc"><a href="http://www.cnblogs.com/vamei/archive/2012/10/11/2720042.html" target="_blank">thread and syc</a></h3>
<pre><code>def booth(tid):
    global lock
    while True:
    lock.acquire()                # Lock; or wait if other thread is holding the lock
    #do something
    os._exit(0)              # Exit the whole process immediately
    lock.release()               # Unblock
    #other code

# Start of the main function
lock = threading.Lock()              # Lock (i.e., mutex)

# Start 10 threads
for k in range(10):
    new_thread = threading.Thread(target=booth,args=(k,))   # Set up thread; target: the callable (function) to be run, args: the argument for the callable 
    new_thread.start()              
</code></pre><p>threading.Thread</p>
<ul>
<li>start()</li>
<li>run()</li>
<li>join() &#x76F4;&#x63A5;&#x5148;&#x540E;&#x987A;&#x5E8F; &#x7C7B;pipe linux&#x8FDB;&#x7A0B;&#x7684;wait</li>
</ul>
<p>threading.Lock &#x7C7B;mutex</p>
<ul>
<li>acquire()</li>
<li>release()</li>
</ul>
<p>threading.Condition &#x7C7B;condition variable</p>
<ul>
<li>wait() </li>
<li>notify() </li>
<li>nitifyAll() </li>
</ul>
<p>threading.Semaphore &#x7C7B;semaphore</p>
<p>threading.Event &#x6CA1;&#x6709;&#x6F5C;&#x5728;&#x7684;Lock&#x4FDD;&#x62A4;&#x7684;condition variable</p>
<p><a name="multi process"></a></p>
<h2 id="multi-process">multi process</h2>
<p>api like [thread and syc] </p>
<p>Process.PID&#x4E2D;&#x4FDD;&#x5B58;&#x6709;PID</p>
<p>Queue&#x4E0E;Pipe</p>
<ul>
<li>&#x5728;UNIX&#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x5F53;&#x67D0;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC8;&#x7ED3;&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x88AB;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x8C03;&#x7528;wait&#xFF0C;&#x5426;&#x5219;&#x8FDB;&#x7A0B;&#x6210;&#x4E3A;&#x50F5;&#x5C38;&#x8FDB;&#x7A0B;(Zombie)&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6709;&#x5FC5;&#x8981;&#x5BF9;&#x6BCF;&#x4E2A;Process&#x5BF9;&#x8C61;&#x8C03;&#x7528;join()&#x65B9;&#x6CD5; (&#x5B9E;&#x9645;&#x4E0A;&#x7B49;&#x540C;&#x4E8E;wait)&#x3002;&#x5BF9;&#x4E8E;&#x591A;&#x7EBF;&#x7A0B;&#x6765;&#x8BF4;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5B58;&#x5728;&#x6B64;&#x5FC5;&#x8981;&#x6027;&#x3002;</li>
<li>multiprocessing&#x63D0;&#x4F9B;&#x4E86;threading&#x5305;&#x4E2D;&#x6CA1;&#x6709;&#x7684;IPC(&#x6BD4;&#x5982;Pipe&#x548C;Queue)&#xFF0C;&#x6548;&#x7387;&#x4E0A;&#x66F4;&#x9AD8;&#x3002;&#x5E94;&#x4F18;&#x5148;&#x8003;&#x8651;Pipe&#x548C;Queue&#xFF0C;&#x907F;&#x514D;&#x4F7F;&#x7528;Lock/Event/Semaphore/Condition&#x7B49;&#x540C;&#x6B65;&#x65B9;&#x5F0F; (&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5360;&#x636E;&#x7684;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x8FDB;&#x7A0B;&#x7684;&#x8D44;&#x6E90;)&#x3002;</li>
<li>&#x591A;&#x8FDB;&#x7A0B;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x3002;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x5730;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x3002;&#x5728;&#x591A;&#x8FDB;&#x7A0B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x6709;&#x81EA;&#x5DF1;&#x72EC;&#x7ACB;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x4EE5;&#x4E0A;&#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x5408;&#x9002;&#x3002;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x548C;Manager&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x3002;&#x4F46;&#x8FD9;&#x6837;&#x505A;&#x63D0;&#x9AD8;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x5E76;&#x56E0;&#x4E3A;&#x540C;&#x6B65;&#x7684;&#x9700;&#x8981;&#x800C;&#x964D;&#x4F4E;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x6548;&#x7387;&#x3002;</li>
</ul>
<h4 id="&#x8FDB;&#x7A0B;&#x6C60;">&#x8FDB;&#x7A0B;&#x6C60;</h4>
<p>close()  &#x8FDB;&#x7A0B;&#x6C60;&#x4E0D;&#x518D;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;</p>
<p>join()   wait&#x8FDB;&#x7A0B;&#x6C60;&#x4E2D;&#x7684;&#x5168;&#x90E8;&#x8FDB;&#x7A0B;&#x3002;&#x5FC5;&#x987B;&#x5BF9;Pool&#x5148;&#x8C03;&#x7528;close()&#x65B9;&#x6CD5;&#x624D;&#x80FD;join&#x3002;</p>
<p>map(func,args) or apply_async(func,args) </p>
<p>Manager  c/s&#x8FDB;&#x7A0B;</p>
<h4 id="&#x5171;&#x4EAB;&#x5185;&#x5B58;"><a href="http://www.cnblogs.com/vamei/archive/2012/10/13/2722254.html" target="_blank">&#x5171;&#x4EAB;&#x5185;&#x5B58;</a></h4>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../py/deep.html" class="navigation navigation-prev " aria-label="Previous page: python进阶"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../py/ipython.html" class="navigation navigation-next " aria-label="Next page: ipython"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
